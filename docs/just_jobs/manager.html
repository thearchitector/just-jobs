<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>just_jobs.manager API documentation</title>
<meta name="description" content="The entrypoint for all job queueing and brokering within an application." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:#555;padding-bottom:0.5em;border-bottom:1px solid silver}.homelink:hover{color:inherit}.homelink img{width:100px;height:100px;margin:auto;margin-bottom:0.3em}</style>
<link rel="canonical" href="https://thearchitector.github.io/just-jobs/just_jobs">
<link rel="icon" href="https://thearchitector.github.io/just-jobs/logo.png">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>just_jobs.manager</code></h1>
</header>
<section id="section-intro">
<p>The entrypoint for all job queueing and brokering within an application.</p>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="just_jobs.manager.Manager"><code class="flex name class">
<span>class <span class="ident">Manager</span></span>
<span>(</span><span>broker: Type[<a title="just_jobs.brokers.base.Broker" href="brokers/base.html#just_jobs.brokers.base.Broker">Broker</a>] = just_jobs.brokers.redis.RedisBroker, queue_names: Optional[List[str]] = None, **bkwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>The entrypoint for all job queueing and brokering within an application.</p></div>
<h3>Instance variables</h3>
<dl>
<dt id="just_jobs.manager.Manager.queue_names"><code class="name">var <span class="ident">queue_names</span></code></dt>
<dd>
<div class="desc"><p>The queue names to which jobs will be placed.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is <em><strong>highly</strong></em> recommended to set this list of queue names to logically
/ functionally separate action-flows in your application. This is because
jobs in a single queue are processed sequentially (albeit in
asyncio-parallel). Defining separate queues for unrelated actions ensures
that a job in one queue does not block the unrelated job from executing.</p>
</div></div>
</dd>
<dt id="just_jobs.manager.Manager.broker"><code class="name">var <span class="ident">broker</span></code></dt>
<dd>
<div class="desc"><p>The broker class to instantiate. <code>RedisBroker</code> by default, but may be
replaced with a custom <code>Broker</code> if desired.</p></div>
</dd>
<dt id="just_jobs.manager.Manager.bkwargs"><code class="name">var <span class="ident">bkwargs</span></code></dt>
<dd>
<div class="desc"><p>Any keyword arguments to pass to the <code>broker</code> during initialization.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="just_jobs.manager.Manager.startup"><code class="name flex">
<span>async def <span class="ident">startup</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Startup the broker to allow it to perform any initial actions, like connecting
to a database. Also spawn/fork the processing queues and register them
with the manager, to allow for graceful cleanup during shutdown.</p></div>
</dd>
<dt id="just_jobs.manager.Manager.shutdown"><code class="name flex">
<span>async def <span class="ident">shutdown</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Signal all processing workers to shutdown and wait for them to cleanup. Also
gracefully shutdown the broker. This must be called after startup.</p></div>
</dd>
<dt id="just_jobs.manager.Manager.enqueue"><code class="name flex">
<span>async def <span class="ident">enqueue</span></span>(<span>self, func: Callable, *args, queue_name: str = 'default', **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Enqueues the given function and its arguments for asynchronous execution
sometime in the near future. All functions are wrapped and serialized. No
guarantee is given for WHEN an enqueued job will be run, only that it will
(or at least, attempted). The time until execution will depend on the number
of enqueued tasks, their complexities, and the rest of the workload present on
the system.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="just-jobs Home" href="https://thearchitector.github.io/just-jobs/just_jobs">
<img src="https://thearchitector.github.io/just-jobs/logo.png" alt=""> just-jobs
</a>
</header>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="just_jobs" href="index.html">just_jobs</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="just_jobs.manager.Manager" href="#just_jobs.manager.Manager">Manager</a></code></h4>
<ul class="two-column">
<li><code><a title="just_jobs.manager.Manager.startup" href="#just_jobs.manager.Manager.startup">startup</a></code></li>
<li><code><a title="just_jobs.manager.Manager.shutdown" href="#just_jobs.manager.Manager.shutdown">shutdown</a></code></li>
<li><code><a title="just_jobs.manager.Manager.enqueue" href="#just_jobs.manager.Manager.enqueue">enqueue</a></code></li>
<li><code><a title="just_jobs.manager.Manager.queue_names" href="#just_jobs.manager.Manager.queue_names">queue_names</a></code></li>
<li><code><a title="just_jobs.manager.Manager.broker" href="#just_jobs.manager.Manager.broker">broker</a></code></li>
<li><code><a title="just_jobs.manager.Manager.bkwargs" href="#just_jobs.manager.Manager.bkwargs">bkwargs</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p><a href="https://ecologi.com/eliasgabriel?r=6128126916bfab8bd051026c"><img alt="Buy a tree" src="https://img.shields.io/badge/Treeware-%F0%9F%8C%B3-lightgreen?style=flat-square"></a></p>
<p><a href="https://www.vecteezy.com">Rake Icon by Vecteezy</a></p>
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>